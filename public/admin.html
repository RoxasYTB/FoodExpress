<!DOCTYPE html>
<html lang="fr">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Administration - FoodExpress</title>
      <link rel="stylesheet" href="/css/common.css">
      <style>
            
            .admin-container {
                  max-width: 1400px;
                  margin: 0 auto;
                  padding: 40px 20px;
            }

            .admin-header {
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 40px;
            }

            .admin-tabs {
                  display: flex;
                  gap: 16px;
                  margin-bottom: 32px;
                  border-bottom: 2px solid #e0e0e0;
            }

            .admin-tab {
                  padding: 16px 24px;
                  background: none;
                  border: none;
                  cursor: pointer;
                  font-size: 16px;
                  font-weight: 500;
                  position: relative;
                  transition: color 0.2s;
            }

            .admin-tab:hover {
                  color: #06c167;
            }

            .admin-tab.active {
                  color: #06c167;
            }

            .admin-tab.active::after {
                  content: '';
                  position: absolute;
                  bottom: -2px;
                  left: 0;
                  right: 0;
                  height: 2px;
                  background: #06c167;
            }

            .tab-content {
                  display: none;
            }

            .tab-content.active {
                  display: block;
            }

            .action-bar {
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 24px;
            }
      </style>
</head>

<body>
      <div id="header-placeholder"></div>

      <div class="admin-container">
            <div class="admin-header">
                  <h1>Panneau d'administration</h1>
                  <div id="adminInfo"></div>
            </div>

            <div class="admin-tabs">
                  <button class="admin-tab active" data-tab="users">Utilisateurs</button>
                  <button class="admin-tab" data-tab="restaurants">Restaurants</button>
                  <button class="admin-tab" data-tab="menus">Menus</button>
            </div>

            <div id="usersTab" class="tab-content active">
                  <div class="action-bar">
                        <h2>Gestion des utilisateurs</h2>
                  </div>
                  <div class="data-table">
                        <table>
                              <thead>
                                    <tr>
                                          <th>ID</th>
                                          <th>Email</th>
                                          <th>Nom d'utilisateur</th>
                                          <th>Rôle</th>
                                          <th>Actions</th>
                                    </tr>
                              </thead>
                              <tbody id="usersTableBody">
                                    <tr>
                                          <td colspan="5">Chargement...</td>
                                    </tr>
                              </tbody>
                        </table>
                  </div>
            </div>

            <div id="restaurantsTab" class="tab-content">
                  <div class="action-bar">
                        <h2>Gestion des restaurants</h2>
                        <button class="btn auth-btn" id="addRestaurantBtn">+ Ajouter un restaurant</button>
                  </div>
                  <div class="data-table">
                        <table>
                              <thead>
                                    <tr>
                                          <th>ID</th>
                                          <th>Nom</th>
                                          <th>Adresse</th>
                                          <th>Téléphone</th>
                                          <th>Horaires</th>
                                          <th>Actions</th>
                                    </tr>
                              </thead>
                              <tbody id="restaurantsTableBody">
                                    <tr>
                                          <td colspan="6">Chargement...</td>
                                    </tr>
                              </tbody>
                        </table>
                  </div>
            </div>

            <div id="menusTab" class="tab-content">
                  <div class="action-bar">
                        <h2>Gestion des menus</h2>
                        <button class="btn auth-btn" id="addMenuBtn">+ Ajouter un menu</button>
                  </div>
                  <div class="data-table">
                        <table>
                              <thead>
                                    <tr>
                                          <th>ID</th>
                                          <th>Restaurant</th>
                                          <th>Nom</th>
                                          <th>Description</th>
                                          <th>Prix</th>
                                          <th>Catégorie</th>
                                          <th>Actions</th>
                                    </tr>
                              </thead>
                              <tbody id="menusTableBody">
                                    <tr>
                                          <td colspan="7">Chargement...</td>
                                    </tr>
                              </tbody>
                        </table>
                  </div>
            </div>
      </div>

      
      <div id="restaurantModal" class="modal">
            <div class="modal-content">
                  <div class="modal-header">
                        <h2 class="modal-title" id="restaurantModalTitle">Ajouter un restaurant</h2>
                        <button class="close-btn" id="closeRestaurantModal">×</button>
                  </div>
                  <form id="restaurantForm">
                        <input type="hidden" id="restaurantId">
                        <div class="form-group">
                              <label for="restaurantName">Nom *</label>
                              <input type="text" id="restaurantName" required>
                        </div>
                        <div class="form-group">
                              <label for="restaurantAddress">Adresse *</label>
                              <input type="text" id="restaurantAddress" required>
                        </div>
                        <div class="form-group">
                              <label for="restaurantPhone">Téléphone *</label>
                              <input type="tel" id="restaurantPhone" required>
                        </div>
                        <div class="form-group">
                              <label for="restaurantHours">Horaires d'ouverture *</label>
                              <input type="text" id="restaurantHours" placeholder="Ex: 11h-23h" required>
                        </div>
                        <div class="form-actions">
                              <button type="button" class="btn btn-secondary" id="cancelRestaurant">Annuler</button>
                              <button type="submit" class="btn auth-btn">Enregistrer</button>
                        </div>
                  </form>
            </div>
      </div>

      
      <div id="menuModal" class="modal">
            <div class="modal-content">
                  <div class="modal-header">
                        <h2 class="modal-title" id="menuModalTitle">Ajouter un menu</h2>
                        <button class="close-btn" id="closeMenuModal">×</button>
                  </div>
                  <form id="menuForm">
                        <input type="hidden" id="menuId">
                        <div class="form-group">
                              <label for="menuRestaurant">Restaurant *</label>
                              <select id="menuRestaurant" required>
                                    <option value="">Sélectionner un restaurant</option>
                              </select>
                        </div>
                        <div class="form-group">
                              <label for="menuName">Nom *</label>
                              <input type="text" id="menuName" required>
                        </div>
                        <div class="form-group">
                              <label for="menuDescription">Description *</label>
                              <textarea id="menuDescription" required></textarea>
                        </div>
                        <div class="form-group">
                              <label for="menuPrice">Prix (€) *</label>
                              <input type="number" id="menuPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                              <label for="menuCategory">Catégorie *</label>
                              <select id="menuCategory" required>
                                    <option value="">Sélectionner une catégorie</option>
                                    <option value="entrée">Entrée</option>
                                    <option value="plat">Plat</option>
                                    <option value="dessert">Dessert</option>
                                    <option value="boisson">Boisson</option>
                              </select>
                        </div>
                        <div class="form-actions">
                              <button type="button" class="btn btn-secondary" id="cancelMenu">Annuler</button>
                              <button type="submit" class="btn auth-btn">Enregistrer</button>
                        </div>
                  </form>
            </div>
      </div>

      <div id="notification" class="notification">
            <span id="notificationMessage"></span>
      </div>

      <script src="/js/header.js"></script>
      <script src="/js/admin.js"></script>
</body>

</html>

